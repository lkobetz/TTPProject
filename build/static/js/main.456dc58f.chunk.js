(this.webpackJsonpttpproject=this.webpackJsonpttpproject||[]).push([[0],{23:function(e,t,a){},36:function(e,t,a){e.exports=a(65)},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(33),i=a.n(s),c=a(15),o=a(3),u=a(4),l=a(6),h=a(5),m=a(7),p=a(14),d=a(18),f=(a(23),a(1)),b=a.n(f),v=a(10),k=a(8),g=a.n(k),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={name:"",email:"",password:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),method:"POST"},r.a.createElement("div",null,r.a.createElement("input",{className:"form_item",type:"text",value:this.state.name,placeholder:"Name",onChange:this.onNameChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{className:"form_item",type:"email","aria-describedby":"emailHelp",value:this.state.email,placeholder:"Email",onChange:this.onEmailChange.bind(this)}))," ",r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{className:"form_item",type:"password",value:this.state.password,placeholder:"Password",onChange:this.onPasswordChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"submit_button"},"Submit"))}},{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"new"!==this.props.userType){e.next=13;break}return e.next=4,g.a.post("/api/register",this.state);case 4:if(a=e.sent,this.resetForm(),200!==a.status){e.next=11;break}return n=a.data.id,e.next=10,window.sessionStorage.setItem("userId",n);case 10:this.props.changeUser(a.data);case 11:e.next=23;break;case 13:if("existing"!==this.props.userType){e.next=23;break}return e.next=16,g.a.post("/api/login",this.state);case 16:if(r=e.sent,this.resetForm(),200!==r.status){e.next=23;break}return s=r.data.id,e.next=22,window.sessionStorage.setItem("userId",s);case 22:this.props.changeUser(r.data);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetForm",value:function(){this.setState({name:"",email:"",message:""})}}]),t}(r.a.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={toggle:!1,userType:"",user:null},a.changeUser=a.changeUser.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"toggleFunc",value:function(e){this.setState({toggle:!this.state.toggle}),this.setState({userType:e})}},{key:"changeUser",value:function(e){this.setState({user:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:function(){return e.toggleFunc("new")}},"Register"),r.a.createElement("button",{onClick:function(){return e.toggleFunc("existing")}},"Login"),this.state.toggle&&r.a.createElement(E,{userType:this.state.userType,changeUser:this.changeUser}),this.state.user&&r.a.createElement(p.a,{to:{pathname:"/".concat(this.state.user.id),state:{user:this.state.user}}}))}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={url:"",user:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=window.location.href.toString()).slice(t.indexOf("#")+2),this.setState({url:t}),e.next=5,g.a.get("/api/".concat(window.sessionStorage.getItem("userId")));case 5:a=e.sent,n=a.data,this.setState({user:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"navbar"},this.state.user&&r.a.createElement("nav",{id:"navbar"},r.a.createElement(c.b,{className:"navbar_link",params:"userPortfolio",to:"/".concat(this.state.user.id),style:{textDecoration:"none",color:this.state.url==="".concat(this.state.user.id)?"#6600ff":"black"}},r.a.createElement("h5",null,"Portfolio"))," ",r.a.createElement(c.b,{className:"navbar_link",params:"userTransactions",to:"/".concat(this.state.user.id,"/transactions"),style:{textDecoration:"none",color:this.state.url==="".concat(this.state.user.id,"/transactions")?"#6600ff":"black"}},r.a.createElement("h5",null,"Transactions"))))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={user:a.props.user,ticker:a.props.stock.name},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getTotalCostOfStock",value:function(){return parseInt(this.props.stock.price)*parseInt(this.props.stock.quantity)}},{key:"render",value:function(){var e=this.getTotalCostOfStock();return r.a.createElement("div",{id:"stock_container"},r.a.createElement("div",{className:"stock"},r.a.createElement("h3",{className:"stock_item"},this.props.stock.name),r.a.createElement("h3",{className:"stock_item"},this.props.stock.quantity," Shares"),r.a.createElement("h3",{className:"stock_item"},"="),r.a.createElement("h3",{className:"stock_item"},"$",e)))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={user:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/".concat(window.sessionStorage.getItem("userId")));case 2:t=e.sent,a=t.data,this.setState({user:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"portfolio_item"},this.state.user&&r.a.createElement("div",{id:"stock_list"},this.state.user.transactions.map((function(t){return r.a.createElement(j,{stock:t,user:e.state.user,key:t.id})}))))}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={ticker:"",quantity:0,price:0,user:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/".concat(window.sessionStorage.getItem("userId")));case 2:t=e.sent,a=t.data,this.setState({user:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("form",{className:"portfolio_item",onSubmit:this.handleSubmit.bind(this),method:"POST"},r.a.createElement("div",null,this.state.user&&r.a.createElement("h3",null,"Cash: $",this.state.user.cash),r.a.createElement("input",{className:"form_item",type:"text",value:this.state.ticker,placeholder:"Ticker Symbol",onChange:this.onTickerChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("input",{className:"form_item",type:"text",value:this.state.quantity,placeholder:"Quantity",onChange:this.onQuantityChange.bind(this)}))," ",r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"submit_button"},"Buy"))}},{key:"onTickerChange",value:function(e){this.setState({ticker:e.target.value})}},{key:"onQuantityChange",value:function(e){this.setState({quantity:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),a=!1,n=0;n<this.state.user.transactions.length;n++)this.state.user.transactions[n].name===this.state.ticker&&(a=!0);if(!a){e.next=9;break}return e.next=6,g.a.put("/api/".concat(this.props.userId),this.state);case 6:e.sent,e.next=12;break;case 9:return e.next=11,g.a.post("/api/".concat(this.props.userId),this.state);case 11:e.sent;case 12:this.resetForm();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetForm",value:function(){this.setState({ticker:"",quantity:0})}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={user:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/".concat(window.sessionStorage.getItem("userId")));case 2:t=e.sent,a=t.data,this.setState({user:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPriceOfAllStocks",value:function(){var e=[];return this.state.user.transactions.forEach((function(t){e.push(t.price*t.quantity)})),e.reduce((function(e,t){return e+t}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.user&&r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{id:"portfolio_container"},r.a.createElement("h1",{id:"portfolio_header"},"Total Value of My Stocks: ",this.getPriceOfAllStocks()),r.a.createElement("div",{id:"portfolio_body"},r.a.createElement(w,null),r.a.createElement(S,{userId:this.state.user.id})))))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={user:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/".concat(window.sessionStorage.getItem("userId")));case 2:t=e.sent,a=t.data,this.setState({user:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.user&&r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement("div",{id:"portfolio_container"},r.a.createElement("div",{id:"portfolio_body"},r.a.createElement("div",{id:"transaction_container"},r.a.createElement("h2",{id:"transactions_list"},"Transaction History:"),this.state.user&&r.a.createElement("div",null,this.state.user.transactions.map((function(e){return r.a.createElement("div",{className:"stock"},r.a.createElement("h3",{className:"stock_item"},"BUY"),r.a.createElement("h3",{className:"stock_item"},e.name),r.a.createElement("h3",{className:"stock_item"},"Shares: ",e.quantity),r.a.createElement("h3",{className:"stock_item"},"@"),r.a.createElement("h3",{className:"stock_item"},"$",e.price))}))))))))}}]),t}(r.a.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:Object(p.g)(y)}),r.a.createElement(p.b,{exact:!0,path:"/:id",component:Object(p.g)(x)}),r.a.createElement(p.b,{exact:!0,path:"/:id/transactions",component:Object(p.g)(C)}))}}]),t}(n.Component);a(64),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.456dc58f.chunk.js.map